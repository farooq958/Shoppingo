!function(){var d=CKEDITOR.addTemplate("sharedcontainer",'<div id="cke_{name}" class="cke {id} cke_reset_all cke_chrome cke_editor_{name} cke_shared cke_detached cke_{langDir} '+CKEDITOR.env.cssClass+'" dir="{langDir}" title="'+(CKEDITOR.env.gecko?" ":"")+'" lang="{langCode}" role="presentation"><div class="cke_inner"><div id="{spaceId}" class="cke_{space}" role="presentation">{content}</div></div></div>');CKEDITOR.plugins.add("sharedspace",{init:function(n){n.on("loaded",function(){var e=n.config.sharedSpaces;if(e)for(var a in e)!function(e,a,t){var n,c;(t="string"==typeof t?CKEDITOR.document.getById(t):new CKEDITOR.dom.element(t))&&(n=e.fire("uiSpace",{space:a,html:""}).html)&&(e.on("uiSpace",function(e){e.data.space==a&&e.cancel()},null,null,1),c=t.append(CKEDITOR.dom.element.createFromHtml(d.output({id:e.id,name:e.name,langDir:e.lang.dir,langCode:e.langCode,space:a,spaceId:e.ui.spaceId(a),content:n}))),t.getCustomData("cke_hasshared")?c.hide():t.setCustomData("cke_hasshared",1),c.unselectable(),c.on("mousedown",function(e){(e=e.data).getTarget().hasAscendant("a",1)||e.preventDefault()}),e.focusManager.add(c,1),e.on("focus",function(){for(var e,a=0,n=t.getChildren();e=n.getItem(a);a++)e.type==CKEDITOR.NODE_ELEMENT&&!e.equals(c)&&e.hasClass("cke_shared")&&e.hide();c.show()}),e.on("destroy",function(){c.remove()}))}(n,a,e[a])},null,null,9)}})}();