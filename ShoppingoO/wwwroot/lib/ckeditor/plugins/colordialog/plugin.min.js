CKEDITOR.plugins.colordialog={requires:"dialog",lang:"af,ar,az,bg,bn,bs,ca,cs,cy,da,de,de-ch,el,en,en-au,en-ca,en-gb,eo,es,es-mx,et,eu,fa,fi,fo,fr,fr-ca,gl,gu,he,hi,hr,hu,id,is,it,ja,ka,km,ko,ku,lt,lv,mk,mn,ms,nb,nl,no,oc,pl,pt,pt-br,ro,ru,si,sk,sl,sq,sr,sr-latn,sv,th,tr,tt,ug,uk,vi,zh,zh-cn",init:function(o){var l=new CKEDITOR.dialogCommand("colordialog");l.editorFocus=!1,o.addCommand("colordialog",l),CKEDITOR.dialog.add("colordialog",this.path+"dialogs/colordialog.js"),o.getColorFromDialog=function(l,i,n){var a=function(o){t(this),(o="ok"==o.name?this.getValueOf("picker","selectedColor"):null)&&!CKEDITOR.tools._isValidColorFormat(o)&&(o=null),/^[0-9a-f]{3}([0-9a-f]{3})?$/i.test(o)&&(o="#"+o),l.call(i,o)},e=function(o){n&&(o.data=n)},t=function(o){o.removeListener("ok",a),o.removeListener("cancel",a),o.removeListener("show",e)},r=function(o){o.on("ok",a),o.on("cancel",a),o.on("show",e,null,null,5)};o.execCommand("colordialog"),o._.storedDialogs&&o._.storedDialogs.colordialog?r(o._.storedDialogs.colordialog):CKEDITOR.on("dialogDefinition",function(o){var l;"colordialog"==o.data.name&&(l=o.data.definition,o.removeListener(),l.onLoad=CKEDITOR.tools.override(l.onLoad,function(o){return function(){r(this),"function"==typeof(l.onLoad=o)&&o.call(this)}}))})}}},CKEDITOR.plugins.add("colordialog",CKEDITOR.plugins.colordialog);