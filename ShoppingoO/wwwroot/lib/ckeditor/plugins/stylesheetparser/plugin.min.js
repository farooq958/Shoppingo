CKEDITOR.plugins.add("stylesheetparser",{init:function(t){var s;t.filter.disable(),t.once("stylesSet",function(e){e.cancel(),t.once("contentDom",function(){t.getStylesSet(function(e){s=e.concat(function(e,t,s){for(var l=[],n=[],r=0;r<e.styleSheets.length;r++)if(!(((c=e.styleSheets[r]).ownerNode||c.owningElement).getAttribute("data-cke-temp")||c.href&&"chrome://"==c.href.substr(0,9)))try{for(var o=c.cssRules||c.rules,c=0;c<o.length;c++)n.push(o[c].selectorText)}catch(e){}for(r=(r=(r=(r=(r=(r=(r=n.join(" ")).replace(/(,|>|\+|~)/g," ")).replace(/\[[^\]]*/g,"")).replace(/#[^\s]*/g,"")).replace(/\:{1,2}[^\s]*/g,"")).replace(/\s+/g," ")).split(" "),e=[],n=0;n<r.length;n++)o=r[n],s.test(o)&&!t.test(o)&&-1==CKEDITOR.tools.indexOf(e,o)&&e.push(o);for(r=0;r<e.length;r++)t=(s=e[r].split("."))[0].toLowerCase(),s=s[1],l.push({name:t+"."+s,element:t,attributes:{class:s}});return l}(t.document.$,t.config.stylesheetParser_skipSelectors||/(^body\.|^\.)/i,t.config.stylesheetParser_validSelectors||/\w+\.\w+/)),t.getStylesSet=function(e){if(s)return e(s)},t.fire("stylesSet",{styles:s})})})},null,null,1)}});